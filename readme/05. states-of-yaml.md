# yml 文件中的 states 配置:

## 1. 概述
1. build 阶段值用来构建一个项目内部需要的内容（也是 数据卷 共享内容，非共享内容一律不考虑）
    * 比如 env 文件 、vendor 目录 等等。
2. test 阶段 主要是用来做单元测试， 保证 项目可以进行持续交付
    

1. build ：主要是项目的构建部分、它构建的范围仅仅只限制于数据卷以内，以保证后面的test job 正常运行。（保证正常的持续交付）
    * 拉去项目： 指定的分支、以及指定的子模块。
    * 如果是分布式项目：则按照分布式项目的规则来拉去相应的代码。
2. test ：测试部分
    * 首先在基础服务器 搭建好相应的web 服务，并且建立好web连接
    * 接着配置项目文件的基本信息：比如.env、文件的可写目录等等；
    * 然后进行测试：
        * 测试代码是否符合psr规范
        * 测试项目的缓存文件是否可以自动生成
        * 进行单元测试
3. deploy：部署部分
    * 部署到生产服务器
    * 部署到内测服务器

## 2. 总结
```
stages:
  - build
  - test
  - deploy
  - failure
  - success
```